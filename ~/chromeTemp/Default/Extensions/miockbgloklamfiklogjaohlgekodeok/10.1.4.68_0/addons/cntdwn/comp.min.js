(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{809:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return Countdown}));__webpack_require__(19),__webpack_require__(18),__webpack_require__(69),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),_dynamicLoaders_ComponentsFactory__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15),_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),_actions_components_Actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(23),_common_GenericReactComponentWrapper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(30);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_5___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}class Countdown extends _common_GenericReactComponentWrapper__WEBPACK_IMPORTED_MODULE_10__.a{constructor(props){super(props),this.state={style:{}},this.countTo=this.props.config.countTo||"",this.countTo=Date.parse(this.countTo),this.state.hide=isNaN(this.countTo),this.updateInterval=this.props.config.updateInterval||1e3,this.parentStyle=this.props.config.parentStyle||{};var hiddenStyle={display:"none"};["days","hours","minutes","seconds"].forEach(element=>{props.config[element]=props.config[element]||{hide:!0},this[element]={},this[element].style=props.config[element].hide?hiddenStyle:props.config[element].style,this[element].beforeText=props.config[element].beforeText||"",this[element].beforeStyle=props.config[element].hide?hiddenStyle:props.config[element].beforeStyle,this[element].afterText=props.config[element].afterText,this[element].afterStyle=props.config[element].hide?hiddenStyle:props.config[element].afterStyle,this[element].containerStyle=props.config[element].hide?hiddenStyle:props.config[element].containerStyle}),this.handleClick=this.handleClick.bind(this),this.tickCounter=0,this.tick()}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),_actions_components_Actions__WEBPACK_IMPORTED_MODULE_9__.a.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,_actions_components_Actions__WEBPACK_IMPORTED_MODULE_9__.b.bind(this)(this.props.config.behaviours)}render(){if(this.shouldHide())return null;var state=this.state;this.props;return react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.parentStyle,onClick:this.handleClick},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.days.containerStyle},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.days.beforeStyle},this.days.beforeText),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.days.style},state.days),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.days.afterStyle},this.days.afterText)),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.hours.containerStyle},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.hours.beforeStyle},this.hours.beforeText),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.hours.style},state.hours),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.hours.afterStyle},this.hours.afterText)),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.minutes.containerStyle},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.minutes.beforeStyle},this.minutes.beforeText),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.minutes.style},state.minutes),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.minutes.afterStyle},this.minutes.afterText)),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.seconds.containerStyle},react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.seconds.beforeStyle},this.seconds.beforeText),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.seconds.style},state.seconds),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{style:this.seconds.afterStyle},this.seconds.afterText)))}handleClick(event){var props=this.props;if(props.config.events&&props.config.events.onClick){event.stopPropagation();var params=_objectSpread({},props.config.events.onClick);_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_8__.a.trigger(props.config.events.onClick.name,[params,_objectSpread({},props.config)])}props.onClick&&props.onClick(event)}tick(){var props=this.props,tock=setInterval(()=>{if(this.updateCount()){if(clearInterval(tock),!props.config.events)return;if(this.tickCounter>2&&props.config.events.onDone){var params=_objectSpread({},props.config.events.onDone);_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_8__.a.trigger(props.config.events.onDone.name,[params,_objectSpread({},props.config)])}if(this.tickCounter<=2&&props.config.events.onZeroStart){var _params=_objectSpread({},props.config.events.onZeroStart);_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_8__.a.trigger(props.config.events.onZeroStart.name,[_params,_objectSpread({},props.config)])}}},this.updateInterval)}updateCount(){var now=Date.parse(new Date),msPassed=this.countTo-now,days="00",hours="00",minutes="00",seconds="00";msPassed>0&&(days=(days=Math.floor(msPassed/864e5))<10?`00${days}`.slice(-2):days,hours=`00${Math.floor(msPassed/36e5%24)}`.slice(-2),minutes=`00${Math.floor(msPassed/1e3/60%60)}`.slice(-2),seconds=`00${Math.floor(msPassed/1e3%60)}`.slice(-2)),this.tickCounter++;var state=this.state;return"00"===state.days&&"00"===state.hours&&"00"===state.minutes&&"00"===state.seconds||(this.setState({days:days,hours:hours,minutes:minutes,seconds:seconds}),!1)}}_dynamicLoaders_ComponentsFactory__WEBPACK_IMPORTED_MODULE_7__.a.add(()=>Countdown,"Countdown")}}]);