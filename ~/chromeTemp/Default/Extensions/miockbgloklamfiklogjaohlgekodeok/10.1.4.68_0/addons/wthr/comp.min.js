(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{811:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return Weather}));__webpack_require__(19),__webpack_require__(18),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(54),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_6__),_utils_utils_Consts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_utils_browser_BrowserService__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),_dynamicLoaders_ComponentsFactory__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(15),_dynamicLoaders_ServiceFactory__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1),_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),_actions_components_Actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(23),_common_GenericReactComponentWrapper__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(30),_dynamicLoaders_verticalConstsLoader__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(155);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _require=__webpack_require__(89),InlineBlock=_require.InlineBlock,Block=_require.Block,_getVerticalConsts=Object(_dynamicLoaders_verticalConstsLoader__WEBPACK_IMPORTED_MODULE_14__.a)("wthr"),UNITS_WEATHER_KEY=_getVerticalConsts.UNITS_WEATHER_KEY,CITY_KEY=_getVerticalConsts.CITY_KEY,UNITS_WEATHER_CHANGE=_getVerticalConsts.UNITS_WEATHER_CHANGE;class Weather extends _common_GenericReactComponentWrapper__WEBPACK_IMPORTED_MODULE_13__.a{constructor(props){super(props);var prefService=_dynamicLoaders_ServiceFactory__WEBPACK_IMPORTED_MODULE_10__.a.get(_utils_utils_Consts__WEBPACK_IMPORTED_MODULE_7__.Ib);this.state={isCelsius:"imperial"!==prefService.get(UNITS_WEATHER_KEY),city:prefService.get(CITY_KEY),icon:"",style:{},iconStyle:{}},this.state.temperature=this.state.isCelsius?24:75,this.handleChangeDegrees=this.handleChangeDegrees.bind(this)}componentDidMount(){this.mounted=!0,_actions_components_Actions__WEBPACK_IMPORTED_MODULE_12__.a.bind(this)(this.props.config.behaviours),_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_11__.a.trigger(UNITS_WEATHER_CHANGE,[]),this.setDynamicAttributes()}componentWillUnmount(){this.mounted=!1,_actions_components_Actions__WEBPACK_IMPORTED_MODULE_12__.b.bind(this)(this.props.config.behaviours)}handleChangeDegrees(){var prefService=_dynamicLoaders_ServiceFactory__WEBPACK_IMPORTED_MODULE_10__.a.get(_utils_utils_Consts__WEBPACK_IMPORTED_MODULE_7__.Ib),newUnit=this.state.isCelsius?"imperial":"metric";prefService.set(UNITS_WEATHER_KEY,newUnit),this.props.config.events.onUnitsChange&&_utils_events_EventsService__WEBPACK_IMPORTED_MODULE_11__.a.trigger(this.props.config.events.onUnitsChange.name,[{unit:newUnit}])}render(){if(this.shouldHide())return this.props.config.animateClass?this.getAnimatedComponent():null;var prefService=_dynamicLoaders_ServiceFactory__WEBPACK_IMPORTED_MODULE_10__.a.get(_utils_utils_Consts__WEBPACK_IMPORTED_MODULE_7__.Ib),temperature=this.state.temperature,iconStyle=_objectSpread({},this.props.config.iconStyle,{},this.state.iconStyle,{backgroundImage:this.state.icon}),city=this.state.city,unitsProp={onClick:this.handleChangeDegrees},degrees=_utils_browser_BrowserService__WEBPACK_IMPORTED_MODULE_8__.a.getTranslationOnlyIfExist(this.state.isCelsius?"C":"F",prefService.get(_utils_utils_Consts__WEBPACK_IMPORTED_MODULE_7__.qc)),component=react__WEBPACK_IMPORTED_MODULE_5__.createElement(InlineBlock,{style:_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style),key:"clock",onClick:this.props.onClick},react__WEBPACK_IMPORTED_MODULE_5__.createElement(Block,{style:this.props.config.tempStyle},react__WEBPACK_IMPORTED_MODULE_5__.createElement(InlineBlock,null,temperature),react__WEBPACK_IMPORTED_MODULE_5__.createElement(InlineBlock,{style:this.props.config.degStyle},"Â°"),react__WEBPACK_IMPORTED_MODULE_5__.createElement(Block,{style:this.props.config.unitsStyle,props:unitsProp},degrees)),react__WEBPACK_IMPORTED_MODULE_5__.createElement(InlineBlock,{style:this.props.config.frightStyle},react__WEBPACK_IMPORTED_MODULE_5__.createElement(Block,{style:iconStyle}),react__WEBPACK_IMPORTED_MODULE_5__.createElement(InlineBlock,{style:this.props.config.cityStyle},city)));return this.props.config.animateClass?this.getAnimatedComponent(component):component}getAnimatedComponent(){var baseComponent=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_6___default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},baseComponent)}}_dynamicLoaders_ComponentsFactory__WEBPACK_IMPORTED_MODULE_9__.a.add(()=>Weather,"Weather")}}]);